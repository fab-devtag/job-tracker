<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CareerZen - Dashboard</title>
    
    <!-- Google Fonts: Inter -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Alpine.js -->
    <script defer src="https://cdn.jsdelivr.net/npm/alpinejs@3.13.3/dist/cdn.min.js"></script>

    <!-- Tailwind Config for "Zen Productivity" Vibe -->
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: {
                        sans: ['Inter', 'sans-serif'],
                    },
                    colors: {
                        zen: {
                            50: '#F9FAFB',  // Cloud white
                            100: '#F3F4F6', // Mist
                            200: '#E5E7EB', // Soft Stone
                            300: '#D1D5DB',
                            400: '#9CA3AF',
                            500: '#6B7280', // Text Secondary
                            600: '#4B5563', // Text Primary
                            700: '#374151',
                            800: '#1F2937',
                            900: '#111827',
                            accent: '#818CF8', // Soft Indigo
                            accentHover: '#6366F1',
                            success: '#34D399', // Calming Green
                            warning: '#FBBF24',
                            error: '#F87171',
                        }
                    },
                    boxShadow: {
                        'soft': '0 4px 20px -2px rgba(0, 0, 0, 0.05)',
                        'float': '0 10px 40px -10px rgba(0, 0, 0, 0.08)',
                        'inner-light': 'inset 0 2px 4px 0 rgba(0, 0, 0, 0.02)',
                        'card': '0 2px 8px 0 rgba(0,0,0,0.04)',
                        'card-hover': '0 8px 24px -4px rgba(0,0,0,0.1)',
                    },
                    animation: {
                        'fade-in': 'fadeIn 0.5s ease-out forwards',
                        'slide-up': 'slideUp 0.6s ease-out forwards',
                    },
                    keyframes: {
                        fadeIn: {
                            '0%': { opacity: '0' },
                            '100%': { opacity: '1' },
                        },
                        slideUp: {
                            '0%': { opacity: '0', transform: 'translateY(20px)' },
                            '100%': { opacity: '1', transform: 'translateY(0)' },
                        }
                    }
                }
            }
        }
    </script>

    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #F9FAFB;
            -webkit-font-smoothing: antialiased;
        }
        
        /* Custom scrollbar for horizontal scrolling */
        .kanban-scroll::-webkit-scrollbar {
            height: 8px;
            width: 8px;
        }
        .kanban-scroll::-webkit-scrollbar-track {
            background: transparent;
        }
        .kanban-scroll::-webkit-scrollbar-thumb {
            background: #E5E7EB; 
            border-radius: 4px;
        }
        .kanban-scroll::-webkit-scrollbar-thumb:hover {
            background: #D1D5DB; 
        }

        /* Hide scrollbar for columns but allow scroll */
        .column-scroll::-webkit-scrollbar {
            width: 4px;
        }
        .column-scroll::-webkit-scrollbar-thumb {
            background: transparent;
            border-radius: 4px;
        }
        .column-scroll:hover::-webkit-scrollbar-thumb {
            background: #E5E7EB;
        }
        
        .glass-panel {
            background: rgba(255, 255, 255, 0.85);
            backdrop-filter: blur(12px);
            -webkit-backdrop-filter: blur(12px);
            border-bottom: 1px solid rgba(255, 255, 255, 0.5);
        }

        .card-drag-overlay {
            background: rgba(243, 244, 246, 0.8);
            border: 2px dashed #D1D5DB;
        }
    </style>
</head>
<body class="min-h-screen flex flex-col text-zen-600 overflow-hidden bg-zen-50" x-data="kanbanBoard()">

    <!-- Top Navigation (Glassmorphism) -->
    <nav class="h-16 glass-panel fixed top-0 w-full z-50 flex items-center justify-between px-6 shadow-sm">
        
        <!-- Left: Logo & Search -->
        <div class="flex items-center gap-8">
            <!-- Branding -->
            <div class="flex items-center gap-2 cursor-pointer hover:opacity-80 transition-opacity">
                <div class="w-8 h-8 rounded-lg bg-gradient-to-br from-indigo-500 to-purple-600 flex items-center justify-center text-white shadow-lg shadow-indigo-200">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z" />
                    </svg>
                </div>
                <span class="text-lg font-bold text-zen-800 tracking-tight hidden sm:block">CareerZen</span>
            </div>

            <!-- Search Bar -->
            <div class="relative hidden md:block w-64 lg:w-96 group">
                <span class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none text-zen-400 group-focus-within:text-zen-accent transition-colors">
                    <svg class="h-5 w-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path>
                    </svg>
                </span>
                <input type="text" x-model="searchQuery" placeholder="Search by role or company..." 
                       class="w-full pl-10 pr-4 py-2 rounded-lg bg-zen-100 border-none focus:bg-white focus:ring-2 focus:ring-zen-accent/50 text-sm text-zen-700 placeholder-zen-400 transition-all shadow-inner-light">
            </div>
        </div>

        <!-- Right: Actions & Profile -->
        <div class="flex items-center gap-5">
            
            <!-- New Job Button -->
            <button @click="showAddModal = true" class="hidden sm:flex items-center gap-2 px-3 py-2 bg-zen-800 hover:bg-zen-900 text-white text-sm font-medium rounded-lg shadow-soft transition-all hover:-translate-y-0.5">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4" />
                </svg>
                <span>Add Job</span>
            </button>

            <!-- Notifications -->
            <button class="relative p-2 text-zen-400 hover:text-zen-600 transition-colors rounded-full hover:bg-zen-100">
                <span class="absolute top-2 right-2 w-2 h-2 bg-zen-error rounded-full border-2 border-white"></span>
                <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9" />
                </svg>
            </button>

            <!-- Profile Dropdown -->
            <div class="flex items-center gap-3 pl-2 border-l border-zen-200">
                <div class="flex flex-col items-end hidden md:block">
                    <span class="text-sm font-semibold text-zen-800">Alex Morgan</span>
                    <span class="text-xs text-zen-400">Product Designer</span>
                </div>
                <img src="https://ui-avatars.com/api/?name=Alex+Morgan&background=818CF8&color=fff" alt="User" 
                     class="w-9 h-9 rounded-full border-2 border-white shadow-soft cursor-pointer hover:ring-2 hover:ring-zen-accent transition-all">
            </div>
        </div>
    </nav>

    <!-- Main Board Content -->
    <main class="flex-grow pt-20 px-6 pb-6 w-full h-screen flex flex-col">
        
        <!-- Board Header Info -->
        <div class="flex justify-between items-end mb-6 shrink-0">
            <div>
                <h1 class="text-2xl font-bold text-zen-800 tracking-tight">Application Pipeline</h1>
                <p class="text-sm text-zen-500 mt-1">You have <span class="font-semibold text-zen-accent" x-text="activeJobsCount"></span> active applications.</p>
            </div>
            
            <!-- Filters / View Toggles -->
            <div class="flex bg-white rounded-lg p-1 shadow-soft border border-zen-100">
                <button class="px-3 py-1.5 rounded-md bg-zen-100 text-zen-800 text-sm font-medium shadow-sm">Board</button>
                <button class="px-3 py-1.5 rounded-md text-zen-500 hover:text-zen-700 hover:bg-zen-50 text-sm font-medium transition-colors">List</button>
                <button class="px-3 py-1.5 rounded-md text-zen-500 hover:text-zen-700 hover:bg-zen-50 text-sm font-medium transition-colors">Calendar</button>
            </div>
        </div>

        <!-- Kanban Scroll Container -->
        <div class="flex-grow overflow-x-auto kanban-scroll pb-4 -mx-6 px-6">
            <div class="flex h-full gap-6 min-w-max">
                
                <!-- Columns Loop -->
                <template x-for="column in columns" :key="column.id">
                    <div class="flex flex-col w-80 h-full rounded-2xl bg-zen-100/50 border border-transparent hover:border-zen-200 transition-colors duration-300">
                        
                        <!-- Column Header -->
                        <div class="p-4 flex items-center justify-between shrink-0">
                            <div class="flex items-center gap-2">
                                <div class="w-2 h-2 rounded-full" :class="column.color"></div>
                                <h3 class="font-semibold text-zen-700 text-sm uppercase tracking-wide" x-text="column.name"></h3>
                                <span class="px-2 py-0.5 rounded-full bg-white text-xs font-bold text-zen-500 shadow-sm border border-zen-100" 
                                      x-text="getJobs(column.id).length"></span>
                            </div>
                            <button class="text-zen-400 hover:text-zen-600 transition-colors">
                                <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6v6m0 0v6m0-6h6m-6 0H6" />
                                </svg>
                            </button>
                        </div>

                        <!-- Cards Container -->
                        <div class="flex-grow overflow-y-auto px-3 pb-3 column-scroll space-y-3">
                            
                            <!-- Empty State -->
                            <div x-show="getJobs(column.id).length === 0" class="text-center py-8 opacity-50">
                                <p class="text-xs text-zen-400 italic">No jobs yet</p>
                            </div>

                            <!-- Job Cards -->
                            <template x-for="job in getJobs(column.id)" :key="job.id">
                                <div class="bg-white p-4 rounded-xl shadow-card hover:shadow-card-hover border border-transparent hover:border-zen-accent/30 cursor-pointer transition-all duration-200 group relative overflow-hidden"
                                     @click="openJobDetails(job)">
                                    
                                    <!-- Stagnation Indicator (Visual dot if idle > 14 days) -->
                                    <template x-if="isStagnant(job.dateApplied)">
                                        <div class="absolute top-0 right-0 w-3 h-3 bg-red-400 rounded-bl-lg shadow-sm z-10" title="No activity for 14+ days"></div>
                                    </template>

                                    <!-- Card Header -->
                                    <div class="flex items-start gap-3 mb-3">
                                        <div class="w-10 h-10 rounded-lg bg-zen-50 border border-zen-100 flex items-center justify-center shrink-0 overflow-hidden">
                                            <img :src="job.logo" :alt="job.company" class="w-full h-full object-cover">
                                        </div>
                                        <div class="overflow-hidden">
                                            <h4 class="font-bold text-zen-800 text-sm truncate leading-tight mb-0.5" x-text="job.role"></h4>
                                            <p class="text-xs font-medium text-zen-500 truncate" x-text="job.company"></p>
                                        </div>
                                    </div>

                                    <!-- Card Body -->
                                    <div class="flex flex-wrap gap-1.5 mb-4">
                                        <span class="inline-flex items-center px-2 py-0.5 rounded text-[10px] font-medium bg-zen-50 text-zen-500 border border-zen-100">
                                            <svg class="mr-1 h-2.5 w-2.5 opacity-60" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"></path><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z"></path></svg>
                                            <span x-text="job.location"></span>
                                        </span>
                                        <span class="inline-flex items-center px-2 py-0.5 rounded text-[10px] font-medium bg-zen-50 text-zen-500 border border-zen-100">
                                            <span x-text="job.type"></span>
                                        </span>
                                    </div>

                                    <!-- Card Footer -->
                                    <div class="flex items-center justify-between pt-3 border-t border-zen-50">
                                        <span class="text-[10px] text-zen-400 font-medium flex items-center gap-1">
                                            <svg class="w-3 h-3 opacity-70" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>
                                            <span x-text="formatDate(job.dateApplied)"></span>
                                        </span>
                                        
                                        <!-- Interactive Move Button (Hover only) -->
                                        <div class="opacity-0 group-hover:opacity-100 transition-opacity flex gap-1">
                                            <button @click.stop="moveCard(job.id, 'next')" class="p-1 hover:bg-zen-100 rounded text-zen-400 hover:text-zen-600" title="Move Forward">
                                                <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path></svg>
                                            </button>
                                        </div>
                                    </div>

                                </div>
                            </template>

                            <!-- Add Button at bottom of column -->
                            <button @click="showAddModal = true; newJob.status = column.id" class="w-full py-2 flex items-center justify-center gap-2 text-xs font-medium text-zen-400 hover:text-zen-600 hover:bg-zen-200/50 rounded-lg transition-colors border border-transparent border-dashed hover:border-zen-300">
                                <svg class="w-3 h-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4"></path></svg>
                                New Card
                            </button>

                        </div>
                    </div>
                </template>
            </div>
        </div>
    </main>

    <!-- Modal: Add/Edit Job -->
    <div x-show="showAddModal" style="display: none;" 
         class="fixed inset-0 z-[60] flex items-center justify-center p-4">
        
        <!-- Backdrop -->
        <div x-show="showAddModal" x-transition:enter="ease-out duration-300" x-transition:enter-start="opacity-0" x-transition:enter-end="opacity-100" x-transition:leave="ease-in duration-200" x-transition:leave-start="opacity-100" x-transition:leave-end="opacity-0"
             class="absolute inset-0 bg-zen-900/40 backdrop-blur-sm" @click="showAddModal = false"></div>

        <!-- Modal Panel -->
        <div x-show="showAddModal" x-transition:enter="ease-out duration-300" x-transition:enter-start="opacity-0 scale-95 translate-y-4" x-transition:enter-end="opacity-100 scale-100 translate-y-0" x-transition:leave="ease-in duration-200" x-transition:leave-start="opacity-100 scale-100 translate-y-0" x-transition:leave-end="opacity-0 scale-95 translate-y-4"
             class="relative bg-white rounded-2xl shadow-float w-full max-w-lg overflow-hidden flex flex-col max-h-[90vh]">
            
            <div class="px-6 py-5 border-b border-zen-100 flex justify-between items-center bg-zen-50/50">
                <h3 class="text-lg font-bold text-zen-800">Add New Opportunity</h3>
                <button @click="showAddModal = false" class="text-zen-400 hover:text-zen-600 transition-colors">
                    <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg>
                </button>
            </div>

            <div class="p-6 space-y-4 overflow-y-auto">
                <div class="grid grid-cols-2 gap-4">
                    <div class="space-y-1">
                        <label class="text-xs font-semibold text-zen-500 uppercase">Company</label>
                        <input type="text" x-model="newJob.company" class="w-full px-3 py-2 rounded-lg bg-zen-50 border border-zen-200 focus:ring-2 focus:ring-zen-accent/50 focus:border-zen-accent outline-none transition-all text-sm">
                    </div>
                    <div class="space-y-1">
                        <label class="text-xs font-semibold text-zen-500 uppercase">Role</label>
                        <input type="text" x-model="newJob.role" class="w-full px-3 py-2 rounded-lg bg-zen-50 border border-zen-200 focus:ring-2 focus:ring-zen-accent/50 focus:border-zen-accent outline-none transition-all text-sm">
                    </div>
                </div>

                <div class="space-y-1">
                    <label class="text-xs font-semibold text-zen-500 uppercase">Status</label>
                    <select x-model="newJob.status" class="w-full px-3 py-2 rounded-lg bg-zen-50 border border-zen-200 focus:ring-2 focus:ring-zen-accent/50 outline-none transition-all text-sm text-zen-700">
                        <template x-for="col in columns" :key="col.id">
                            <option :value="col.id" x-text="col.name"></option>
                        </template>
                    </select>
                </div>

                <div class="grid grid-cols-2 gap-4">
                    <div class="space-y-1">
                        <label class="text-xs font-semibold text-zen-500 uppercase">Location</label>
                        <input type="text" x-model="newJob.location" class="w-full px-3 py-2 rounded-lg bg-zen-50 border border-zen-200 focus:ring-2 focus:ring-zen-accent/50 outline-none transition-all text-sm">
                    </div>
                    <div class="space-y-1">
                        <label class="text-xs font-semibold text-zen-500 uppercase">Date Applied</label>
                        <input type="date" x-model="newJob.dateApplied" class="w-full px-3 py-2 rounded-lg bg-zen-50 border border-zen-200 focus:ring-2 focus:ring-zen-accent/50 outline-none transition-all text-sm text-zen-500">
                    </div>
                </div>
            </div>

            <div class="px-6 py-4 bg-zen-50 border-t border-zen-100 flex justify-end gap-3">
                <button @click="showAddModal = false" class="px-4 py-2 text-sm font-medium text-zen-600 hover:bg-zen-200/50 rounded-lg transition-colors">Cancel</button>
                <button @click="addNewJob" class="px-4 py-2 text-sm font-medium text-white bg-zen-800 hover:bg-zen-900 rounded-lg shadow-lg shadow-zen-200 hover:shadow-zen-300 transition-all">Save Job</button>
            </div>
        </div>
    </div>

    <!-- Notification Toast -->
    <div x-show="notification.show" 
         x-transition:enter="transition ease-out duration-300"
         x-transition:enter-start="opacity-0 transform translate-y-2"
         x-transition:enter-end="opacity-100 transform translate-y-0"
         x-transition:leave="transition ease-in duration-200"
         x-transition:leave-start="opacity-100 transform translate-y-0"
         x-transition:leave-end="opacity-0 transform translate-y-2"
         class="fixed bottom-6 right-6 z-[70] bg-zen-800 text-white px-4 py-3 rounded-xl shadow-float flex items-center gap-3"
         style="display: none;">
        <div class="w-6 h-6 rounded-full bg-zen-success flex items-center justify-center text-zen-900">
            <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path></svg>
        </div>
        <div>
            <p class="text-sm font-medium" x-text="notification.message"></p>
        </div>
    </div>

    <script>
        function kanbanBoard() {
            return {
                searchQuery: '',
                showAddModal: false,
                notification: { show: false, message: '' },
                
                columns: [
                    { id: 'wishlist', name: 'Wishlist', color: 'bg-zen-300' },
                    { id: 'applied', name: 'Applied', color: 'bg-blue-400' },
                    { id: 'phone', name: 'Phone Screen', color: 'bg-zen-accent' },
                    { id: 'technical', name: 'Technical Interview', color: 'bg-purple-400' },
                    { id: 'onsite', name: 'Onsite', color: 'bg-orange-400' },
                    { id: 'offer', name: 'Offer', color: 'bg-zen-success' },
                    { id: 'rejected', name: 'Rejected', color: 'bg-zen-error' }
                ],

                // Mock Data
                jobs: [
                    { id: 1, company: 'Stripe', logo: 'https://logo.clearbit.com/stripe.com', role: 'Product Designer', location: 'San Francisco, CA', type: 'Remote', status: 'phone', dateApplied: '2023-10-15' },
                    { id: 2, company: 'Airbnb', logo: 'https://logo.clearbit.com/airbnb.com', role: 'UX Engineer', location: 'New York, NY', type: 'Hybrid', status: 'applied', dateApplied: '2023-10-01' },
                    { id: 3, company: 'Linear', logo: 'https://logo.clearbit.com/linear.app', role: 'Frontend Developer', location: 'Remote', type: 'Remote', status: 'wishlist', dateApplied: '2023-10-24' },
                    { id: 4, company: 'Vercel', logo: 'https://logo.clearbit.com/vercel.com', role: 'Design Engineer', location: 'Remote', type: 'Remote', status: 'technical', dateApplied: '2023-10-10' },
                    { id: 5, company: 'Figma', logo: 'https://logo.clearbit.com/figma.com', role: 'Product Manager', location: 'San Francisco, CA', type: 'On-site', status: 'onsite', dateApplied: '2023-09-28' },
                    { id: 6, company: 'Notion', logo: 'https://logo.clearbit.com/notion.so', role: 'Brand Designer', location: 'New York, NY', type: 'Hybrid', status: 'rejected', dateApplied: '2023-09-15' },
                    { id: 7, company: 'Shopify', logo: 'https://logo.clearbit.com/shopify.com', role: 'Senior UX', location: 'Remote', type: 'Remote', status: 'applied', dateApplied: '2023-10-22' },
                    { id: 8, company: 'Netflix', logo: 'https://logo.clearbit.com/netflix.com', role: 'UI Engineer', location: 'Los Gatos, CA', type: 'On-site', status: 'wishlist', dateApplied: '2023-10-25' },
                ],

                newJob: {
                    company: '',
                    role: '',
                    location: '',
                    status: 'wishlist',
                    dateApplied: new Date().toISOString().split('T')[0],
                    type: 'Remote'
                },

                get activeJobsCount() {
                    return this.jobs.filter(j => j.status !== 'rejected' && j.status !== 'offer').length;
                },

                getJobs(status) {
                    return this.jobs.filter(job => {
                        const matchesStatus = job.status === status;
                        const matchesSearch = job.role.toLowerCase().includes(this.searchQuery.toLowerCase()) || 
                                              job.company.toLowerCase().includes(this.searchQuery.toLowerCase());
                        return matchesStatus && matchesSearch;
                    });
                },

                formatDate(dateStr) {
                    const date = new Date(dateStr);
                    const now = new Date();
                    const diffTime = Math.abs(now - date);
                    const diffDays = Math.ceil(diffTime / (1000 * 60 * 60 * 24)); 
                    
                    if (diffDays === 0) return 'Today';
                    if (diffDays === 1) return 'Yesterday';
                    if (diffDays < 7) return `${diffDays} days ago`;
                    return date.toLocaleDateString('en-US', { month: 'short', day: 'numeric' });
                },

                isStagnant(dateStr) {
                    const date = new Date(dateStr);
                    const now = new Date();
                    const diffDays = Math.ceil(Math.abs(now - date) / (1000 * 60 * 60 * 24));
                    return diffDays > 14;
                },

                moveCard(id, direction) {
                    const job = this.jobs.find(j => j.id === id);
                    if (!job) return;

                    const currentIndex = this.columns.findIndex(c => c.id === job.status);
                    let newIndex = direction === 'next' ? currentIndex + 1 : currentIndex - 1;

                    // Bounds check
                    if (newIndex >= 0 && newIndex < this.columns.length) {
                        job.status = this.columns[newIndex].id;
                        this.showNotification(`Moved ${job.company} to ${this.columns[newIndex].name}`);
                    }
                },

                addNewJob() {
                    if (!this.newJob.company || !this.newJob.role) {
                        alert('Please fill in Company and Role');
                        return;
                    }

                    this.jobs.push({
                        id: Date.now(),
                        company: this.newJob.company,
                        logo: `https://ui-avatars.com/api/?name=${encodeURIComponent(this.newJob.company)}&background=random`,
                        role: this.newJob.role,
                        location: this.newJob.location || 'Remote',
                        type: 'Full-time',
                        status: this.newJob.status,
                        dateApplied: this.newJob.dateApplied
                    });

                    this.showAddModal = false;
                    this.showNotification('Job added successfully');
                    
                    // Reset form
                    this.newJob.company = '';
                    this.newJob.role = '';
                    this.newJob.location = '';
                },

                openJobDetails(job) {
                    // In a real app, this would open a detail modal.
                    // For this demo, we'll log it or just focus the visual click effect.
                    console.log('Opened', job.company);
                },

                showNotification(msg) {
                    this.notification.message = msg;
                    this.notification.show = true;
                    setTimeout(() => {
                        this.notification.show = false;
                    }, 3000);
                }
            }
        }
    </script>
</body>
</html>